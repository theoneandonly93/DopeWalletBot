"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/dex/trending";
exports.ids = ["pages/api/dex/trending"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdex%2Ftrending&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fdex%2Ftrending.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdex%2Ftrending&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fdex%2Ftrending.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_dex_trending_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/dex/trending.js */ \"(api)/./pages/api/dex/trending.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_dex_trending_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_dex_trending_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/dex/trending\",\n        pathname: \"/api/dex/trending\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_dex_trending_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmRleCUyRnRyZW5kaW5nJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZkZXglMkZ0cmVuZGluZy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN3RDtBQUN4RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsdURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHVEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2RvcGV3YWxsZXQtZnJvbnRlbmQvPzczMDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9kZXgvdHJlbmRpbmcuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kZXgvdHJlbmRpbmdcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kZXgvdHJlbmRpbmdcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdex%2Ftrending&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fdex%2Ftrending.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/dex/trending.js":
/*!***********************************!*\
  !*** ./pages/api/dex/trending.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n//\n// Uses global `fetch` (available in Next.js) â€” do not import node-fetch to avoid duplicate global definitions.\n// DexScreener proxy for trending tokens (single clean implementation)\n// - Uses global fetch (Next.js runtime)\n// - Supports query params: ?limit, ?sort (volume|gainers), ?chain\n// - Filters to requested chain (default: solana)\n// - Enriches token metadata from Solana tokenlist when available\n// - In-memory caching to reduce outbound requests during dev\nconst DEX_API = process.env.DEX_API_URL || \"https://api.dexscreener.com/latest/dex\";\nconst SOL_TOKENLIST = \"https://raw.githubusercontent.com/solana-labs/token-list/main/src/tokens/solana.tokenlist.json\";\nconst CACHE = {\n    responses: {},\n    tokenlist: null,\n    tokenlistTs: 0,\n    logoMap: null\n};\nconst CG_CACHE = {\n    list: null,\n    listTs: 0,\n    prices: {},\n    pricesTs: {}\n};\nconst COINGECKO_LIST_TTL = 1000 * 60 * 60; // 1h\nconst COINGECKO_PRICE_TTL = 1000 * 30; // 30s\nasync function loadCoinGeckoList() {\n    const now = Date.now();\n    if (CG_CACHE.list && now - CG_CACHE.listTs < COINGECKO_LIST_TTL) return CG_CACHE.list;\n    try {\n        const r = await fetch(\"https://api.coingecko.com/api/v3/coins/list\");\n        if (!r.ok) return null;\n        const j = await r.json();\n        // create a map by symbol uppercase -> id (first match wins)\n        const map = {};\n        for (const c of j || []){\n            try {\n                const sym = String(c.symbol || \"\").toUpperCase();\n                if (!map[sym]) map[sym] = c.id;\n            } catch (e) {}\n        }\n        CG_CACHE.list = map;\n        CG_CACHE.listTs = Date.now();\n        return map;\n    } catch (e) {\n        return null;\n    }\n}\nasync function getPriceFromCoinGecko(symbol, contractAddress) {\n    try {\n        const now = Date.now();\n        const key = (contractAddress || symbol || \"\").toLowerCase();\n        if (CG_CACHE.prices[key] && now - (CG_CACHE.pricesTs[key] || 0) < COINGECKO_PRICE_TTL) return CG_CACHE.prices[key];\n        // Attempt contract lookup for solana if contractAddress provided\n        if (contractAddress) {\n            try {\n                const r = await fetch(`https://api.coingecko.com/api/v3/coins/solana/contract/${contractAddress}`);\n                if (r.ok) {\n                    const j = await r.json();\n                    const usd = j.market_data?.current_price?.usd ?? null;\n                    if (usd !== null) {\n                        CG_CACHE.prices[key] = usd;\n                        CG_CACHE.pricesTs[key] = Date.now();\n                        return usd;\n                    }\n                }\n            } catch (e) {}\n        }\n        // Fallback: symbol -> id -> simple/price\n        const list = await loadCoinGeckoList();\n        if (list && symbol) {\n            const id = list[String(symbol).toUpperCase()];\n            if (id) {\n                const r = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${encodeURIComponent(id)}&vs_currencies=usd`);\n                if (r.ok) {\n                    const j = await r.json();\n                    const usd = j[id]?.usd ?? null;\n                    if (usd !== null) {\n                        CG_CACHE.prices[key] = usd;\n                        CG_CACHE.pricesTs[key] = Date.now();\n                        return usd;\n                    }\n                }\n            }\n        }\n    } catch (e) {}\n    return null;\n}\nasync function loadTokenList() {\n    const now = Date.now();\n    if (CACHE.tokenlist && now - CACHE.tokenlistTs < 60000) return CACHE.tokenlist;\n    try {\n        const r = await fetch(SOL_TOKENLIST);\n        if (!r.ok) return null;\n        const j = await r.json();\n        const map = {};\n        for (const t of j.tokens || []){\n            try {\n                const key = String(t.address || \"\").toLowerCase();\n                if (key) map[key] = t;\n            } catch (e) {}\n        }\n        // build logo reverse-lookup map (filename or hash -> token meta)\n        const logoMap = {};\n        for (const t of j.tokens || []){\n            const maybe = t.logoURI || t.extensions?.logoURI || \"\";\n            if (!maybe) continue;\n            try {\n                const parts = String(maybe).split(\"/\");\n                let last = parts[parts.length - 1] || \"\";\n                // strip query\n                last = last.split(\"?\")[0] || last;\n                last = last.toLowerCase();\n                if (last) logoMap[last] = t;\n            } catch (e) {}\n        }\n        CACHE.tokenlist = map;\n        CACHE.logoMap = logoMap;\n        CACHE.tokenlistTs = Date.now();\n        return map;\n    } catch (err) {\n        return null;\n    }\n}\nasync function handler(req, res) {\n    try {\n        const { query } = req;\n        const limit = Math.min(Number(query.limit) || 100, 100);\n        const chain = (query.chain || \"solana\").toString().toLowerCase();\n        const sort = (query.sort || \"volume\").toString().toLowerCase();\n        const cacheKey = `${chain}:${sort}:${limit}`;\n        const now = Date.now();\n        if (CACHE.responses[cacheKey] && now - CACHE.responses[cacheKey].ts < 30000) {\n            return res.status(200).json({\n                data: CACHE.responses[cacheKey].data,\n                cached: true\n            });\n        }\n        // Try multiple upstream endpoints to be robust against DexScreener endpoint shapes.\n        const candidates = [\n            `${DEX_API}/${chain}`,\n            DEX_API,\n            \"https://api.dexscreener.com/token-boosts/top/v1\"\n        ];\n        let body = null;\n        let lastStatus = 0;\n        for (const url of candidates){\n            try {\n                const resp = await fetch(url, {\n                    headers: {\n                        \"User-Agent\": \"DopeWalletBot/1.0\"\n                    }\n                });\n                lastStatus = resp.status;\n                if (!resp.ok) {\n                    continue;\n                }\n                body = await resp.json();\n                break;\n            } catch (e) {\n                lastStatus = 500;\n                continue;\n            }\n        }\n        if (!body) return res.status(502).json({\n            error: \"DexScreener upstream error\",\n            status: lastStatus\n        });\n        // collect candidate pairs\n        let pairs = [];\n        if (Array.isArray(body)) pairs = body;\n        else if (Array.isArray(body.pairs)) pairs = body.pairs;\n        else {\n            for (const k of Object.keys(body || {})){\n                if (body[k]?.pairs && Array.isArray(body[k].pairs)) pairs = pairs.concat(body[k].pairs);\n            }\n        }\n        // Filter to requested chain by inspecting various hint fields\n        const filtered = (pairs || []).filter((p)=>{\n            const hints = [\n                p.chain,\n                p.chainId,\n                p.chainKey,\n                p.dex?.chain,\n                p.pair?.chain,\n                p.baseToken?.chain,\n                p.quoteToken?.chain\n            ].filter(Boolean).map(String).join(\" \").toLowerCase();\n            return hints.includes(chain);\n        });\n        // simple sorting\n        let sorted = filtered;\n        if (sort === \"volume\") sorted = filtered.sort((a, b)=>(Number(b.volume) || Number(b.volume_24h) || 0) - (Number(a.volume) || Number(a.volume_24h) || 0));\n        else if (sort === \"gainers\") sorted = filtered.sort((a, b)=>(Number(b.priceChange) || Number(b.change) || 0) - (Number(a.priceChange) || Number(a.change) || 0));\n        const tokenlist = await loadTokenList();\n        const normalized = (sorted || []).slice(0, limit).map((it)=>{\n            const address = it.tokenAddress || it.address || it.pairAddress || it.baseToken?.address || it.quoteToken?.address || it.id || \"\";\n            let logoURI = it.icon || it.logo || it.logoURI || it.tokenIcon || it.baseToken?.icon || it.quoteToken?.icon || \"\";\n            let symbol = it.symbol || it.tokenSymbol || it.token?.symbol || it.baseToken?.symbol || it.quoteToken?.symbol || it.name || \"\";\n            let name = it.name || it.tokenName || it.baseToken?.name || it.quoteToken?.name || \"\";\n            const lookupAddr = String(address || \"\").toLowerCase();\n            if ((!logoURI || !symbol) && tokenlist && lookupAddr && tokenlist[lookupAddr]) {\n                const meta = tokenlist[lookupAddr];\n                logoURI = logoURI || meta.logoURI || meta.extensions?.logoURI || \"\";\n                symbol = symbol || meta.symbol || meta.name || \"\";\n            }\n            // fallback: try logo filename/hash lookup from tokenlist (helps when upstream returns icon hash)\n            if ((!symbol || !logoURI) && CACHE.logoMap) {\n                try {\n                    let candidate = logoURI || \"\";\n                    // if candidate is short (a hash), use it; otherwise extract filename\n                    if (candidate && !candidate.startsWith(\"http\")) {\n                        candidate = String(candidate).toLowerCase();\n                    } else if (candidate.startsWith(\"http\")) {\n                        const parts = String(candidate).split(\"/\");\n                        candidate = (parts[parts.length - 1] || \"\").split(\"?\")[0].toLowerCase();\n                    }\n                    if (candidate && CACHE.logoMap[candidate]) {\n                        const m = CACHE.logoMap[candidate];\n                        logoURI = logoURI || m.logoURI || m.extensions?.logoURI || \"\";\n                        symbol = symbol || m.symbol || m.name || \"\";\n                    }\n                } catch (e) {}\n            }\n            const price = Number(it.priceUsd || it.price || it.tokenPrice || it.price_usd || it.baseToken?.price || 0) || 0;\n            const change24h = Number(it.priceChange || it.change || it.change_24h || it.price_change_percentage_24h || 0) || 0;\n            const volume24h = Number(it.volume || it.volume24h || it.volume_24h || it.quoteVolume || it.liquidity || 0) || 0;\n            if (!logoURI && address) logoURI = `https://cdn.dexscreener.com/token-images/${chain}/${address}`;\n            // Fallback name/symbol heuristics when upstream lacks them\n            const rawDesc = it.description || it.raw?.description || it.tokenDescription || \"\" || \"\";\n            const urlName = it.url || it.raw?.url || \"\" ? String(it.url || it.raw?.url).split(\"/\").filter(Boolean).pop() : \"\";\n            function guessFromText(text) {\n                if (!text) return \"\";\n                // prefer first token-like word\n                const cleaned = String(text).replace(/[\\n\\r]/g, \" \").trim();\n                const first = cleaned.split(/\\s|_|-|\\//).filter(Boolean)[0] || \"\";\n                const alpha = first.replace(/[^A-Za-z0-9]/g, \"\");\n                return alpha.toUpperCase().slice(0, 6);\n            }\n            const guessedName = name || it.raw?.description || rawDesc || urlName || \"\";\n            const guessedSymbol = symbol || guessFromText(symbol || name || rawDesc || urlName || address) || \"\";\n            return {\n                address,\n                logoURI,\n                symbol: guessedSymbol,\n                name: guessedName,\n                price,\n                change24h,\n                volume24h,\n                raw: it\n            };\n        });\n        CACHE.responses[cacheKey] = {\n            ts: Date.now(),\n            data: normalized\n        };\n        return res.status(200).json({\n            data: normalized,\n            cached: false\n        });\n    } catch (err) {\n        console.error(\"trending proxy error\", err);\n        return res.status(500).json({\n            error: String(err)\n        });\n    }\n} //\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RztnQkFBV0ssS0FBSzNCO1lBQUc7UUFDNUc7UUFFQXBHLE1BQU1DLFNBQVMsQ0FBQzBELFNBQVMsR0FBRztZQUFFQyxJQUFJOUMsS0FBS0QsR0FBRztZQUFJaUQsTUFBTW9DO1FBQVc7UUFDL0QsT0FBT2hELElBQUlXLE1BQU0sQ0FBQyxLQUFLMUMsSUFBSSxDQUFDO1lBQUUyQyxNQUFNb0M7WUFBWW5DLFFBQVE7UUFBTTtJQUNoRSxFQUFFLE9BQU9oQixLQUFLO1FBQ1o2RixRQUFRdEUsS0FBSyxDQUFDLHdCQUF3QnZCO1FBQ3RDLE9BQU9HLElBQUlXLE1BQU0sQ0FBQyxLQUFLMUMsSUFBSSxDQUFDO1lBQUVtRCxPQUFPL0MsT0FBT3dCO1FBQUs7SUFDbkQ7QUFDRixFQUNBLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3Bld2FsbGV0LWZyb250ZW5kLy4vcGFnZXMvYXBpL2RleC90cmVuZGluZy5qcz8wM2RlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vXG4vLyBVc2VzIGdsb2JhbCBgZmV0Y2hgIChhdmFpbGFibGUgaW4gTmV4dC5qcykg4oCUIGRvIG5vdCBpbXBvcnQgbm9kZS1mZXRjaCB0byBhdm9pZCBkdXBsaWNhdGUgZ2xvYmFsIGRlZmluaXRpb25zLlxuXG4vLyBEZXhTY3JlZW5lciBwcm94eSBmb3IgdHJlbmRpbmcgdG9rZW5zIChzaW5nbGUgY2xlYW4gaW1wbGVtZW50YXRpb24pXG4vLyAtIFVzZXMgZ2xvYmFsIGZldGNoIChOZXh0LmpzIHJ1bnRpbWUpXG4vLyAtIFN1cHBvcnRzIHF1ZXJ5IHBhcmFtczogP2xpbWl0LCA/c29ydCAodm9sdW1lfGdhaW5lcnMpLCA/Y2hhaW5cbi8vIC0gRmlsdGVycyB0byByZXF1ZXN0ZWQgY2hhaW4gKGRlZmF1bHQ6IHNvbGFuYSlcbi8vIC0gRW5yaWNoZXMgdG9rZW4gbWV0YWRhdGEgZnJvbSBTb2xhbmEgdG9rZW5saXN0IHdoZW4gYXZhaWxhYmxlXG4vLyAtIEluLW1lbW9yeSBjYWNoaW5nIHRvIHJlZHVjZSBvdXRib3VuZCByZXF1ZXN0cyBkdXJpbmcgZGV2XG5cbmNvbnN0IERFWF9BUEkgPSBwcm9jZXNzLmVudi5ERVhfQVBJX1VSTCB8fCAnaHR0cHM6Ly9hcGkuZGV4c2NyZWVuZXIuY29tL2xhdGVzdC9kZXgnO1xuY29uc3QgU09MX1RPS0VOTElTVCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc29sYW5hLWxhYnMvdG9rZW4tbGlzdC9tYWluL3NyYy90b2tlbnMvc29sYW5hLnRva2VubGlzdC5qc29uJztcblxuY29uc3QgQ0FDSEUgPSB7IHJlc3BvbnNlczoge30sIHRva2VubGlzdDogbnVsbCwgdG9rZW5saXN0VHM6IDAsIGxvZ29NYXA6IG51bGwgfTtcbmNvbnN0IENHX0NBQ0hFID0geyBsaXN0OiBudWxsLCBsaXN0VHM6IDAsIHByaWNlczoge30sIHByaWNlc1RzOiB7fSB9O1xuY29uc3QgQ09JTkdFQ0tPX0xJU1RfVFRMID0gMTAwMCAqIDYwICogNjA7IC8vIDFoXG5jb25zdCBDT0lOR0VDS09fUFJJQ0VfVFRMID0gMTAwMCAqIDMwOyAvLyAzMHNcblxuYXN5bmMgZnVuY3Rpb24gbG9hZENvaW5HZWNrb0xpc3QoKSB7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGlmIChDR19DQUNIRS5saXN0ICYmIChub3cgLSBDR19DQUNIRS5saXN0VHMpIDwgQ09JTkdFQ0tPX0xJU1RfVFRMKSByZXR1cm4gQ0dfQ0FDSEUubGlzdDtcbiAgdHJ5IHtcbiAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL2NvaW5zL2xpc3QnKTtcbiAgICBpZiAoIXIub2spIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGogPSBhd2FpdCByLmpzb24oKTtcbiAgICAvLyBjcmVhdGUgYSBtYXAgYnkgc3ltYm9sIHVwcGVyY2FzZSAtPiBpZCAoZmlyc3QgbWF0Y2ggd2lucylcbiAgICBjb25zdCBtYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGMgb2YgaiB8fCBbXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3ltID0gU3RyaW5nKGMuc3ltYm9sIHx8ICcnKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoIW1hcFtzeW1dKSBtYXBbc3ltXSA9IGMuaWQ7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgICBDR19DQUNIRS5saXN0ID0gbWFwO1xuICAgIENHX0NBQ0hFLmxpc3RUcyA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIG1hcDtcbiAgfSBjYXRjaCAoZSkgeyByZXR1cm4gbnVsbDsgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRQcmljZUZyb21Db2luR2Vja28oc3ltYm9sLCBjb250cmFjdEFkZHJlc3MpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGtleSA9IChjb250cmFjdEFkZHJlc3MgfHwgc3ltYm9sIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChDR19DQUNIRS5wcmljZXNba2V5XSAmJiAobm93IC0gKENHX0NBQ0hFLnByaWNlc1RzW2tleV0gfHwgMCkpIDwgQ09JTkdFQ0tPX1BSSUNFX1RUTCkgcmV0dXJuIENHX0NBQ0hFLnByaWNlc1trZXldO1xuXG4gICAgLy8gQXR0ZW1wdCBjb250cmFjdCBsb29rdXAgZm9yIHNvbGFuYSBpZiBjb250cmFjdEFkZHJlc3MgcHJvdmlkZWRcbiAgICBpZiAoY29udHJhY3RBZGRyZXNzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL2NvaW5zL3NvbGFuYS9jb250cmFjdC8ke2NvbnRyYWN0QWRkcmVzc31gKTtcbiAgICAgICAgaWYgKHIub2spIHtcbiAgICAgICAgICBjb25zdCBqID0gYXdhaXQgci5qc29uKCk7XG4gICAgICAgICAgY29uc3QgdXNkID0gai5tYXJrZXRfZGF0YT8uY3VycmVudF9wcmljZT8udXNkID8/IG51bGw7XG4gICAgICAgICAgaWYgKHVzZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgQ0dfQ0FDSEUucHJpY2VzW2tleV0gPSB1c2Q7XG4gICAgICAgICAgICBDR19DQUNIRS5wcmljZXNUc1trZXldID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHJldHVybiB1c2Q7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrOiBzeW1ib2wgLT4gaWQgLT4gc2ltcGxlL3ByaWNlXG4gICAgY29uc3QgbGlzdCA9IGF3YWl0IGxvYWRDb2luR2Vja29MaXN0KCk7XG4gICAgaWYgKGxpc3QgJiYgc3ltYm9sKSB7XG4gICAgICBjb25zdCBpZCA9IGxpc3RbU3RyaW5nKHN5bWJvbCkudG9VcHBlckNhc2UoKV07XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5jb2luZ2Vja28uY29tL2FwaS92My9zaW1wbGUvcHJpY2U/aWRzPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGlkKX0mdnNfY3VycmVuY2llcz11c2RgKTtcbiAgICAgICAgaWYgKHIub2spIHtcbiAgICAgICAgICBjb25zdCBqID0gYXdhaXQgci5qc29uKCk7XG4gICAgICAgICAgY29uc3QgdXNkID0galtpZF0/LnVzZCA/PyBudWxsO1xuICAgICAgICAgIGlmICh1c2QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIENHX0NBQ0hFLnByaWNlc1trZXldID0gdXNkO1xuICAgICAgICAgICAgQ0dfQ0FDSEUucHJpY2VzVHNba2V5XSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICByZXR1cm4gdXNkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkgeyAvKiBpZ25vcmUgKi8gfVxuICByZXR1cm4gbnVsbDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZFRva2VuTGlzdCgpIHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgaWYgKENBQ0hFLnRva2VubGlzdCAmJiAobm93IC0gQ0FDSEUudG9rZW5saXN0VHMpIDwgNjBfMDAwKSByZXR1cm4gQ0FDSEUudG9rZW5saXN0O1xuICB0cnkge1xuICAgIGNvbnN0IHIgPSBhd2FpdCBmZXRjaChTT0xfVE9LRU5MSVNUKTtcbiAgICBpZiAoIXIub2spIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGogPSBhd2FpdCByLmpzb24oKTtcbiAgICBjb25zdCBtYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgKGoudG9rZW5zIHx8IFtdKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qga2V5ID0gU3RyaW5nKHQuYWRkcmVzcyB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGtleSkgbWFwW2tleV0gPSB0O1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBpZ25vcmUgKi8gfVxuICAgIH1cbiAgICAvLyBidWlsZCBsb2dvIHJldmVyc2UtbG9va3VwIG1hcCAoZmlsZW5hbWUgb3IgaGFzaCAtPiB0b2tlbiBtZXRhKVxuICAgIGNvbnN0IGxvZ29NYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgKGoudG9rZW5zIHx8IFtdKSkge1xuICAgICAgY29uc3QgbWF5YmUgPSB0LmxvZ29VUkkgfHwgdC5leHRlbnNpb25zPy5sb2dvVVJJIHx8ICcnO1xuICAgICAgaWYgKCFtYXliZSkgY29udGludWU7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IFN0cmluZyhtYXliZSkuc3BsaXQoJy8nKTtcbiAgICAgICAgbGV0IGxhc3QgPSBwYXJ0c1twYXJ0cy5sZW5ndGgtMV0gfHwgJyc7XG4gICAgICAgIC8vIHN0cmlwIHF1ZXJ5XG4gICAgICAgIGxhc3QgPSBsYXN0LnNwbGl0KCc/JylbMF0gfHwgbGFzdDtcbiAgICAgICAgbGFzdCA9IGxhc3QudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGxhc3QpIGxvZ29NYXBbbGFzdF0gPSB0O1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBpZ25vcmUgKi8gfVxuICAgIH1cbiAgICAgIENBQ0hFLnRva2VubGlzdCA9IG1hcDtcbiAgICBDQUNIRS5sb2dvTWFwID0gbG9nb01hcDtcbiAgICBDQUNIRS50b2tlbmxpc3RUcyA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIG1hcDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICB0cnkge1xuICAgIGNvbnN0IHsgcXVlcnkgfSA9IHJlcTtcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgubWluKE51bWJlcihxdWVyeS5saW1pdCkgfHwgMTAwLCAxMDApO1xuICAgIGNvbnN0IGNoYWluID0gKHF1ZXJ5LmNoYWluIHx8ICdzb2xhbmEnKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3Qgc29ydCA9IChxdWVyeS5zb3J0IHx8ICd2b2x1bWUnKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBjb25zdCBjYWNoZUtleSA9IGAke2NoYWlufToke3NvcnR9OiR7bGltaXR9YDtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChDQUNIRS5yZXNwb25zZXNbY2FjaGVLZXldICYmIChub3cgLSBDQUNIRS5yZXNwb25zZXNbY2FjaGVLZXldLnRzKSA8IDMwXzAwMCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogQ0FDSEUucmVzcG9uc2VzW2NhY2hlS2V5XS5kYXRhLCBjYWNoZWQ6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gVHJ5IG11bHRpcGxlIHVwc3RyZWFtIGVuZHBvaW50cyB0byBiZSByb2J1c3QgYWdhaW5zdCBEZXhTY3JlZW5lciBlbmRwb2ludCBzaGFwZXMuXG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IFtcbiAgICAgIGAke0RFWF9BUEl9LyR7Y2hhaW59YCwgLy8gY2hhaW4tc3BlY2lmaWMgKGUuZy4gL2xhdGVzdC9kZXgvc29sYW5hKVxuICAgICAgREVYX0FQSSwgLy8gZ2xvYmFsXG4gICAgICAnaHR0cHM6Ly9hcGkuZGV4c2NyZWVuZXIuY29tL3Rva2VuLWJvb3N0cy90b3AvdjEnLCAvLyBhbHRlcm5hdGl2ZSAvdG9rZW4tYm9vc3RzIGVuZHBvaW50XG4gICAgXTtcblxuICAgIGxldCBib2R5ID0gbnVsbDtcbiAgICBsZXQgbGFzdFN0YXR1cyA9IDA7XG4gICAgZm9yIChjb25zdCB1cmwgb2YgY2FuZGlkYXRlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCwgeyBoZWFkZXJzOiB7ICdVc2VyLUFnZW50JzogJ0RvcGVXYWxsZXRCb3QvMS4wJyB9IH0pO1xuICAgICAgICBsYXN0U3RhdHVzID0gcmVzcC5zdGF0dXM7XG4gICAgICAgIGlmICghcmVzcC5vaykge1xuICAgICAgICAgIC8vIGtlZXAgdHJ5aW5nIG90aGVyIGNhbmRpZGF0ZXNcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBib2R5ID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsYXN0U3RhdHVzID0gNTAwO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWJvZHkpIHJldHVybiByZXMuc3RhdHVzKDUwMikuanNvbih7IGVycm9yOiAnRGV4U2NyZWVuZXIgdXBzdHJlYW0gZXJyb3InLCBzdGF0dXM6IGxhc3RTdGF0dXMgfSk7XG5cbiAgICAvLyBjb2xsZWN0IGNhbmRpZGF0ZSBwYWlyc1xuICAgIGxldCBwYWlycyA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGJvZHkpKSBwYWlycyA9IGJvZHk7XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShib2R5LnBhaXJzKSkgcGFpcnMgPSBib2R5LnBhaXJzO1xuICAgIGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBrIG9mIE9iamVjdC5rZXlzKGJvZHkgfHwge30pKSB7XG4gICAgICAgIGlmIChib2R5W2tdPy5wYWlycyAmJiBBcnJheS5pc0FycmF5KGJvZHlba10ucGFpcnMpKSBwYWlycyA9IHBhaXJzLmNvbmNhdChib2R5W2tdLnBhaXJzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgdG8gcmVxdWVzdGVkIGNoYWluIGJ5IGluc3BlY3RpbmcgdmFyaW91cyBoaW50IGZpZWxkc1xuICAgIGNvbnN0IGZpbHRlcmVkID0gKHBhaXJzIHx8IFtdKS5maWx0ZXIocCA9PiB7XG4gICAgICBjb25zdCBoaW50cyA9IFtwLmNoYWluLCBwLmNoYWluSWQsIHAuY2hhaW5LZXksIHAuZGV4Py5jaGFpbiwgcC5wYWlyPy5jaGFpbiwgcC5iYXNlVG9rZW4/LmNoYWluLCBwLnF1b3RlVG9rZW4/LmNoYWluXVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pLm1hcChTdHJpbmcpLmpvaW4oJyAnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIGhpbnRzLmluY2x1ZGVzKGNoYWluKTtcbiAgICB9KTtcblxuICAgIC8vIHNpbXBsZSBzb3J0aW5nXG4gICAgbGV0IHNvcnRlZCA9IGZpbHRlcmVkO1xuICAgIGlmIChzb3J0ID09PSAndm9sdW1lJykgc29ydGVkID0gZmlsdGVyZWQuc29ydCgoYSxiKT0+IChOdW1iZXIoYi52b2x1bWUpIHx8IE51bWJlcihiLnZvbHVtZV8yNGgpIHx8IDApIC0gKE51bWJlcihhLnZvbHVtZSkgfHwgTnVtYmVyKGEudm9sdW1lXzI0aCkgfHwgMCkpO1xuICAgIGVsc2UgaWYgKHNvcnQgPT09ICdnYWluZXJzJykgc29ydGVkID0gZmlsdGVyZWQuc29ydCgoYSxiKT0+IChOdW1iZXIoYi5wcmljZUNoYW5nZSkgfHwgTnVtYmVyKGIuY2hhbmdlKSB8fCAwKSAtIChOdW1iZXIoYS5wcmljZUNoYW5nZSkgfHwgTnVtYmVyKGEuY2hhbmdlKSB8fCAwKSk7XG5cbiAgICBjb25zdCB0b2tlbmxpc3QgPSBhd2FpdCBsb2FkVG9rZW5MaXN0KCk7XG5cbiAgICBjb25zdCBub3JtYWxpemVkID0gKHNvcnRlZCB8fCBbXSkuc2xpY2UoMCwgbGltaXQpLm1hcCgoaXQpID0+IHtcbiAgICAgIGNvbnN0IGFkZHJlc3MgPSBpdC50b2tlbkFkZHJlc3MgfHwgaXQuYWRkcmVzcyB8fCBpdC5wYWlyQWRkcmVzcyB8fCBpdC5iYXNlVG9rZW4/LmFkZHJlc3MgfHwgaXQucXVvdGVUb2tlbj8uYWRkcmVzcyB8fCBpdC5pZCB8fCAnJztcbiAgICAgIGxldCBsb2dvVVJJID0gaXQuaWNvbiB8fCBpdC5sb2dvIHx8IGl0LmxvZ29VUkkgfHwgaXQudG9rZW5JY29uIHx8IGl0LmJhc2VUb2tlbj8uaWNvbiB8fCBpdC5xdW90ZVRva2VuPy5pY29uIHx8ICcnO1xuICAgICAgbGV0IHN5bWJvbCA9IGl0LnN5bWJvbCB8fCBpdC50b2tlblN5bWJvbCB8fCBpdC50b2tlbj8uc3ltYm9sIHx8IGl0LmJhc2VUb2tlbj8uc3ltYm9sIHx8IGl0LnF1b3RlVG9rZW4/LnN5bWJvbCB8fCBpdC5uYW1lIHx8ICcnO1xuICAgICAgbGV0IG5hbWUgPSBpdC5uYW1lIHx8IGl0LnRva2VuTmFtZSB8fCBpdC5iYXNlVG9rZW4/Lm5hbWUgfHwgaXQucXVvdGVUb2tlbj8ubmFtZSB8fCAnJztcblxuICAgICAgY29uc3QgbG9va3VwQWRkciA9IFN0cmluZyhhZGRyZXNzIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCghbG9nb1VSSSB8fCAhc3ltYm9sKSAmJiB0b2tlbmxpc3QgJiYgbG9va3VwQWRkciAmJiB0b2tlbmxpc3RbbG9va3VwQWRkcl0pIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRva2VubGlzdFtsb29rdXBBZGRyXTtcbiAgICAgICAgbG9nb1VSSSA9IGxvZ29VUkkgfHwgbWV0YS5sb2dvVVJJIHx8IG1ldGEuZXh0ZW5zaW9ucz8ubG9nb1VSSSB8fCAnJztcbiAgICAgICAgc3ltYm9sID0gc3ltYm9sIHx8IG1ldGEuc3ltYm9sIHx8IG1ldGEubmFtZSB8fCAnJztcbiAgICAgIH1cbiAgICAgIC8vIGZhbGxiYWNrOiB0cnkgbG9nbyBmaWxlbmFtZS9oYXNoIGxvb2t1cCBmcm9tIHRva2VubGlzdCAoaGVscHMgd2hlbiB1cHN0cmVhbSByZXR1cm5zIGljb24gaGFzaClcbiAgICAgIGlmICgoIXN5bWJvbCB8fCAhbG9nb1VSSSkgJiYgQ0FDSEUubG9nb01hcCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCBjYW5kaWRhdGUgPSBsb2dvVVJJIHx8ICcnO1xuICAgICAgICAgIC8vIGlmIGNhbmRpZGF0ZSBpcyBzaG9ydCAoYSBoYXNoKSwgdXNlIGl0OyBvdGhlcndpc2UgZXh0cmFjdCBmaWxlbmFtZVxuICAgICAgICAgIGlmIChjYW5kaWRhdGUgJiYgIWNhbmRpZGF0ZS5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZSA9IFN0cmluZyhjYW5kaWRhdGUpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjYW5kaWRhdGUuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IFN0cmluZyhjYW5kaWRhdGUpLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICBjYW5kaWRhdGUgPSAocGFydHNbcGFydHMubGVuZ3RoLTFdIHx8ICcnKS5zcGxpdCgnPycpWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjYW5kaWRhdGUgJiYgQ0FDSEUubG9nb01hcFtjYW5kaWRhdGVdKSB7XG4gICAgICAgICAgICBjb25zdCBtID0gQ0FDSEUubG9nb01hcFtjYW5kaWRhdGVdO1xuICAgICAgICAgICAgbG9nb1VSSSA9IGxvZ29VUkkgfHwgbS5sb2dvVVJJIHx8IG0uZXh0ZW5zaW9ucz8ubG9nb1VSSSB8fCAnJztcbiAgICAgICAgICAgIHN5bWJvbCA9IHN5bWJvbCB8fCBtLnN5bWJvbCB8fCBtLm5hbWUgfHwgJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7IC8qIGlnbm9yZSAqLyB9XG4gICAgICB9XG5cbiAgY29uc3QgcHJpY2UgPSBOdW1iZXIoaXQucHJpY2VVc2QgfHwgaXQucHJpY2UgfHwgaXQudG9rZW5QcmljZSB8fCBpdC5wcmljZV91c2QgfHwgaXQuYmFzZVRva2VuPy5wcmljZSB8fCAwKSB8fCAwO1xuICAgICAgY29uc3QgY2hhbmdlMjRoID0gTnVtYmVyKGl0LnByaWNlQ2hhbmdlIHx8IGl0LmNoYW5nZSB8fCBpdC5jaGFuZ2VfMjRoIHx8IGl0LnByaWNlX2NoYW5nZV9wZXJjZW50YWdlXzI0aCB8fCAwKSB8fCAwO1xuICAgICAgY29uc3Qgdm9sdW1lMjRoID0gTnVtYmVyKGl0LnZvbHVtZSB8fCBpdC52b2x1bWUyNGggfHwgaXQudm9sdW1lXzI0aCB8fCBpdC5xdW90ZVZvbHVtZSB8fCBpdC5saXF1aWRpdHkgfHwgMCkgfHwgMDtcblxuICAgICAgaWYgKCFsb2dvVVJJICYmIGFkZHJlc3MpIGxvZ29VUkkgPSBgaHR0cHM6Ly9jZG4uZGV4c2NyZWVuZXIuY29tL3Rva2VuLWltYWdlcy8ke2NoYWlufS8ke2FkZHJlc3N9YDtcblxuICAgICAgLy8gRmFsbGJhY2sgbmFtZS9zeW1ib2wgaGV1cmlzdGljcyB3aGVuIHVwc3RyZWFtIGxhY2tzIHRoZW1cbiAgICAgIGNvbnN0IHJhd0Rlc2MgPSAoaXQuZGVzY3JpcHRpb24gfHwgaXQucmF3Py5kZXNjcmlwdGlvbiB8fCBpdC50b2tlbkRlc2NyaXB0aW9uIHx8ICcnKSB8fCAnJztcbiAgICAgIGNvbnN0IHVybE5hbWUgPSAoaXQudXJsIHx8IGl0LnJhdz8udXJsIHx8ICcnKSA/IFN0cmluZyhpdC51cmwgfHwgaXQucmF3Py51cmwpLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pLnBvcCgpIDogJyc7XG5cbiAgICAgIGZ1bmN0aW9uIGd1ZXNzRnJvbVRleHQodGV4dCkge1xuICAgICAgICBpZiAoIXRleHQpIHJldHVybiAnJztcbiAgICAgICAgLy8gcHJlZmVyIGZpcnN0IHRva2VuLWxpa2Ugd29yZFxuICAgICAgICBjb25zdCBjbGVhbmVkID0gU3RyaW5nKHRleHQpLnJlcGxhY2UoL1tcXG5cXHJdL2csICcgJykudHJpbSgpO1xuICAgICAgICBjb25zdCBmaXJzdCA9IGNsZWFuZWQuc3BsaXQoL1xcc3xffC18XFwvLykuZmlsdGVyKEJvb2xlYW4pWzBdIHx8ICcnO1xuICAgICAgICBjb25zdCBhbHBoYSA9IGZpcnN0LnJlcGxhY2UoL1teQS1aYS16MC05XS9nLCAnJyk7XG4gICAgICAgIHJldHVybiBhbHBoYS50b1VwcGVyQ2FzZSgpLnNsaWNlKDAsIDYpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBndWVzc2VkTmFtZSA9IG5hbWUgfHwgaXQucmF3Py5kZXNjcmlwdGlvbiB8fCByYXdEZXNjIHx8IHVybE5hbWUgfHwgJyc7XG4gICAgICBjb25zdCBndWVzc2VkU3ltYm9sID0gc3ltYm9sIHx8IGd1ZXNzRnJvbVRleHQoc3ltYm9sIHx8IG5hbWUgfHwgcmF3RGVzYyB8fCB1cmxOYW1lIHx8IGFkZHJlc3MpIHx8ICcnO1xuXG4gICAgICByZXR1cm4geyBhZGRyZXNzLCBsb2dvVVJJLCBzeW1ib2w6IGd1ZXNzZWRTeW1ib2wsIG5hbWU6IGd1ZXNzZWROYW1lLCBwcmljZSwgY2hhbmdlMjRoLCB2b2x1bWUyNGgsIHJhdzogaXQgfTtcbiAgICB9KTtcblxuICAgIENBQ0hFLnJlc3BvbnNlc1tjYWNoZUtleV0gPSB7IHRzOiBEYXRlLm5vdygpLCBkYXRhOiBub3JtYWxpemVkIH07XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogbm9ybWFsaXplZCwgY2FjaGVkOiBmYWxzZSB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcigndHJlbmRpbmcgcHJveHkgZXJyb3InLCBlcnIpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBTdHJpbmcoZXJyKSB9KTtcbiAgfVxufVxuLy9cblxuIl0sIm5hbWVzIjpbIkRFWF9BUEkiLCJwcm9jZXNzIiwiZW52IiwiREVYX0FQSV9VUkwiLCJTT0xfVE9LRU5MSVNUIiwiQ0FDSEUiLCJyZXNwb25zZXMiLCJ0b2tlbmxpc3QiLCJ0b2tlbmxpc3RUcyIsImxvZ29NYXAiLCJDR19DQUNIRSIsImxpc3QiLCJsaXN0VHMiLCJwcmljZXMiLCJwcmljZXNUcyIsIkNPSU5HRUNLT19MSVNUX1RUTCIsIkNPSU5HRUNLT19QUklDRV9UVEwiLCJsb2FkQ29pbkdlY2tvTGlzdCIsIm5vdyIsIkRhdGUiLCJyIiwiZmV0Y2giLCJvayIsImoiLCJqc29uIiwibWFwIiwiYyIsInN5bSIsIlN0cmluZyIsInN5bWJvbCIsInRvVXBwZXJDYXNlIiwiaWQiLCJlIiwiZ2V0UHJpY2VGcm9tQ29pbkdlY2tvIiwiY29udHJhY3RBZGRyZXNzIiwia2V5IiwidG9Mb3dlckNhc2UiLCJ1c2QiLCJtYXJrZXRfZGF0YSIsImN1cnJlbnRfcHJpY2UiLCJlbmNvZGVVUklDb21wb25lbnQiLCJsb2FkVG9rZW5MaXN0IiwidCIsInRva2VucyIsImFkZHJlc3MiLCJtYXliZSIsImxvZ29VUkkiLCJleHRlbnNpb25zIiwicGFydHMiLCJzcGxpdCIsImxhc3QiLCJsZW5ndGgiLCJlcnIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwicXVlcnkiLCJsaW1pdCIsIk1hdGgiLCJtaW4iLCJOdW1iZXIiLCJjaGFpbiIsInRvU3RyaW5nIiwic29ydCIsImNhY2hlS2V5IiwidHMiLCJzdGF0dXMiLCJkYXRhIiwiY2FjaGVkIiwiY2FuZGlkYXRlcyIsImJvZHkiLCJsYXN0U3RhdHVzIiwidXJsIiwicmVzcCIsImhlYWRlcnMiLCJlcnJvciIsInBhaXJzIiwiQXJyYXkiLCJpc0FycmF5IiwiayIsIk9iamVjdCIsImtleXMiLCJjb25jYXQiLCJmaWx0ZXJlZCIsImZpbHRlciIsInAiLCJoaW50cyIsImNoYWluSWQiLCJjaGFpbktleSIsImRleCIsInBhaXIiLCJiYXNlVG9rZW4iLCJxdW90ZVRva2VuIiwiQm9vbGVhbiIsImpvaW4iLCJpbmNsdWRlcyIsInNvcnRlZCIsImEiLCJiIiwidm9sdW1lIiwidm9sdW1lXzI0aCIsInByaWNlQ2hhbmdlIiwiY2hhbmdlIiwibm9ybWFsaXplZCIsInNsaWNlIiwiaXQiLCJ0b2tlbkFkZHJlc3MiLCJwYWlyQWRkcmVzcyIsImljb24iLCJsb2dvIiwidG9rZW5JY29uIiwidG9rZW5TeW1ib2wiLCJ0b2tlbiIsIm5hbWUiLCJ0b2tlbk5hbWUiLCJsb29rdXBBZGRyIiwibWV0YSIsImNhbmRpZGF0ZSIsInN0YXJ0c1dpdGgiLCJtIiwicHJpY2UiLCJwcmljZVVzZCIsInRva2VuUHJpY2UiLCJwcmljZV91c2QiLCJjaGFuZ2UyNGgiLCJjaGFuZ2VfMjRoIiwicHJpY2VfY2hhbmdlX3BlcmNlbnRhZ2VfMjRoIiwidm9sdW1lMjRoIiwicXVvdGVWb2x1bWUiLCJsaXF1aWRpdHkiLCJyYXdEZXNjIiwiZGVzY3JpcHRpb24iLCJyYXciLCJ0b2tlbkRlc2NyaXB0aW9uIiwidXJsTmFtZSIsInBvcCIsImd1ZXNzRnJvbVRleHQiLCJ0ZXh0IiwiY2xlYW5lZCIsInJlcGxhY2UiLCJ0cmltIiwiZmlyc3QiLCJhbHBoYSIsImd1ZXNzZWROYW1lIiwiZ3Vlc3NlZFN5bWJvbCIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/dex/trending.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdex%2Ftrending&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fdex%2Ftrending.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();