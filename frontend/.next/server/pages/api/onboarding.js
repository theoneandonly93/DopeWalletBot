/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/onboarding";
exports.ids = ["pages/api/onboarding"];
exports.modules = {

/***/ "(api)/../node_modules/@supabase/auth-js/dist/main/lib sync recursive":
/*!*************************************************************!*\
  !*** ../node_modules/@supabase/auth-js/dist/main/lib/ sync ***!
  \*************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(api)/../node_modules/@supabase/auth-js/dist/main/lib sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(api)/../node_modules/@supabase/functions-js/dist/main sync recursive":
/*!**************************************************************!*\
  !*** ../node_modules/@supabase/functions-js/dist/main/ sync ***!
  \**************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(api)/../node_modules/@supabase/functions-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(api)/../node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!*************************************************************!*\
  !*** ../node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \*************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(api)/../node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(api)/../node_modules/@supabase/storage-js/dist/main/lib sync recursive":
/*!****************************************************************!*\
  !*** ../node_modules/@supabase/storage-js/dist/main/lib/ sync ***!
  \****************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(api)/../node_modules/@supabase/storage-js/dist/main/lib sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "@solana/web3.js":
/*!**********************************!*\
  !*** external "@solana/web3.js" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@solana/web3.js");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("bcryptjs");

/***/ }),

/***/ "bs58":
/*!***********************!*\
  !*** external "bs58" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("bs58");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "tweetnacl":
/*!****************************!*\
  !*** external "tweetnacl" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("tweetnacl");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fonboarding&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fonboarding.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fonboarding&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fonboarding.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_onboarding_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/onboarding.js */ \"(api)/./pages/api/onboarding.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_onboarding_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_onboarding_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/onboarding\",\n        pathname: \"/api/onboarding\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_onboarding_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm9uYm9hcmRpbmcmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRm9uYm9hcmRpbmcuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDc0Q7QUFDdEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHFEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxxREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3Bld2FsbGV0LWZyb250ZW5kLz8wMTA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvb25ib2FyZGluZy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL29uYm9hcmRpbmdcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vbmJvYXJkaW5nXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fonboarding&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fonboarding.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/onboarding.js":
/*!*********************************!*\
  !*** ./pages/api/onboarding.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/supabase */ \"(api)/../utils/supabase.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { password } = req.body;\n    if (!password || password.length < 6) {\n        return res.status(400).json({\n            error: \"Password must be at least 6 characters.\"\n        });\n    }\n    try {\n        // Hash the password\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(password, 10);\n        // Dynamically import createWallet at runtime to avoid bundling bip39\n        // (when Next.js compiles frontend code it can attempt to include server-only\n        // modules if they're imported at module scope). Importing here ensures\n        // bip39 and other node-only libs are only required on the server at runtime.\n        const { createWallet } = await __webpack_require__.e(/*! import() */ \"_api_utils_solana_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../utils/solana.js */ \"(api)/../utils/solana.js\"));\n        // Generate wallet (createWallet is async)\n        const wallet = await createWallet();\n        // Dynamically import the Supabase helper. In dev environments where\n        // SUPABASE_* is not configured we prefer to continue (so onboarding can\n        // be tested without a DB). If the import or the helper throws because of\n        // missing env, we'll skip the DB upsert and return the wallet to the client.\n        let upsertFn = null;\n        try {\n            const mod = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../../utils/supabase.js */ \"(api)/../utils/supabase.js\"));\n            upsertFn = mod.upsertUserWallet;\n        } catch (err) {\n            console.warn(\"supabase helper unavailable, skipping DB upsert during onboarding:\", err && err.message);\n        }\n        // Get Telegram ID from session or request (replace with your logic)\n        // Avoid using a string placeholder like 'demo-user' which will fail if\n        // the DB column is a bigint. Only pass telegram_id when it's a valid integer.\n        let telegramIdRaw = req.cookies?.telegramId || req.body?.telegramId || null;\n        let telegramId = null;\n        if (telegramIdRaw !== null && telegramIdRaw !== undefined) {\n            const parsed = Number(telegramIdRaw);\n            if (!Number.isNaN(parsed) && Number.isInteger(parsed)) {\n                telegramId = parsed;\n            }\n        }\n        // Store wallet and hashed password in Supabase (telegramId may be null)\n        if (upsertFn) {\n            await upsertFn(telegramId, wallet, hashedPassword);\n        } else {\n            // No-op in dev when Supabase isn't configured. Caller will still get\n            // the wallet details so onboarding flow can be exercised.\n            console.info(\"Skipping Supabase upsert: upsertUserWallet not available\");\n        }\n        res.status(200).json({\n            publicKey: wallet.publicKey\n        });\n    } catch (e) {\n        // Provide friendlier errors for common misconfigurations\n        if (e.message && e.message.includes(\"RPC_URL\")) {\n            return res.status(500).json({\n                error: \"Server RPC_URL is missing or invalid. Set RPC_URL (or NEXT_PUBLIC_RPC_URL) to a valid http(s) Solana RPC endpoint.\"\n            });\n        }\n        res.status(500).json({\n            error: e.message || \"Failed to create account.\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvb25ib2FyZGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBQzdCO0FBRWYsZUFBZUUsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFxQjtJQUM1RDtJQUVBLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdOLElBQUlPLElBQUk7SUFDN0IsSUFBSSxDQUFDRCxZQUFZQSxTQUFTRSxNQUFNLEdBQUcsR0FBRztRQUNwQyxPQUFPUCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBMEM7SUFDakY7SUFFQSxJQUFJO1FBQ0Ysb0JBQW9CO1FBQ3BCLE1BQU1JLGlCQUFpQixNQUFNWCxvREFBVyxDQUFDUSxVQUFVO1FBRW5ELHFFQUFxRTtRQUNyRSw2RUFBNkU7UUFDN0UsdUVBQXVFO1FBQ3ZFLDZFQUE2RTtRQUM3RSxNQUFNLEVBQUVLLFlBQVksRUFBRSxHQUFHLE1BQU0sNktBQU87UUFDdEMsMENBQTBDO1FBQzFDLE1BQU1DLFNBQVMsTUFBTUQ7UUFFckIsb0VBQW9FO1FBQ3BFLHdFQUF3RTtRQUN4RSx5RUFBeUU7UUFDekUsNkVBQTZFO1FBQzdFLElBQUlFLFdBQVc7UUFDZixJQUFJO1lBQ0YsTUFBTUMsTUFBTSxNQUFNLG9KQUFPO1lBQ3pCRCxXQUFXQyxJQUFJakIsZ0JBQWdCO1FBQ2pDLEVBQUUsT0FBT2tCLEtBQUs7WUFDWkMsUUFBUUMsSUFBSSxDQUFDLHNFQUFzRUYsT0FBT0EsSUFBSUcsT0FBTztRQUN2RztRQUVBLG9FQUFvRTtRQUNwRSx1RUFBdUU7UUFDdkUsOEVBQThFO1FBQzlFLElBQUlDLGdCQUFnQm5CLElBQUlvQixPQUFPLEVBQUVDLGNBQWNyQixJQUFJTyxJQUFJLEVBQUVjLGNBQWM7UUFDdkUsSUFBSUEsYUFBYTtRQUNqQixJQUFJRixrQkFBa0IsUUFBUUEsa0JBQWtCRyxXQUFXO1lBQ3pELE1BQU1DLFNBQVNDLE9BQU9MO1lBQ3RCLElBQUksQ0FBQ0ssT0FBT0MsS0FBSyxDQUFDRixXQUFXQyxPQUFPRSxTQUFTLENBQUNILFNBQVM7Z0JBQ3JERixhQUFhRTtZQUNmO1FBQ0Y7UUFFQSx3RUFBd0U7UUFDeEUsSUFBSVYsVUFBVTtZQUNaLE1BQU1BLFNBQVNRLFlBQVlULFFBQVFIO1FBQ3JDLE9BQU87WUFDTCxxRUFBcUU7WUFDckUsMERBQTBEO1lBQzFETyxRQUFRVyxJQUFJLENBQUM7UUFDZjtRQUVBMUIsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFd0IsV0FBV2hCLE9BQU9nQixTQUFTO1FBQUM7SUFDckQsRUFBRSxPQUFPQyxHQUFHO1FBQ1YseURBQXlEO1FBQ3pELElBQUlBLEVBQUVYLE9BQU8sSUFBSVcsRUFBRVgsT0FBTyxDQUFDWSxRQUFRLENBQUMsWUFBWTtZQUM5QyxPQUFPN0IsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFxSDtRQUM1SjtRQUNBSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU93QixFQUFFWCxPQUFPLElBQUk7UUFBNEI7SUFDekU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2RvcGV3YWxsZXQtZnJvbnRlbmQvLi9wYWdlcy9hcGkvb25ib2FyZGluZy5qcz9mOGZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVwc2VydFVzZXJXYWxsZXQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9zdXBhYmFzZSc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIGlmICghcGFzc3dvcmQgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMuJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gSGFzaCB0aGUgcGFzc3dvcmRcbiAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG5cbiAgICAvLyBEeW5hbWljYWxseSBpbXBvcnQgY3JlYXRlV2FsbGV0IGF0IHJ1bnRpbWUgdG8gYXZvaWQgYnVuZGxpbmcgYmlwMzlcbiAgICAvLyAod2hlbiBOZXh0LmpzIGNvbXBpbGVzIGZyb250ZW5kIGNvZGUgaXQgY2FuIGF0dGVtcHQgdG8gaW5jbHVkZSBzZXJ2ZXItb25seVxuICAgIC8vIG1vZHVsZXMgaWYgdGhleSdyZSBpbXBvcnRlZCBhdCBtb2R1bGUgc2NvcGUpLiBJbXBvcnRpbmcgaGVyZSBlbnN1cmVzXG4gICAgLy8gYmlwMzkgYW5kIG90aGVyIG5vZGUtb25seSBsaWJzIGFyZSBvbmx5IHJlcXVpcmVkIG9uIHRoZSBzZXJ2ZXIgYXQgcnVudGltZS5cbiAgICBjb25zdCB7IGNyZWF0ZVdhbGxldCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi8uLi91dGlscy9zb2xhbmEuanMnKTtcbiAgICAvLyBHZW5lcmF0ZSB3YWxsZXQgKGNyZWF0ZVdhbGxldCBpcyBhc3luYylcbiAgICBjb25zdCB3YWxsZXQgPSBhd2FpdCBjcmVhdGVXYWxsZXQoKTtcblxuICAgIC8vIER5bmFtaWNhbGx5IGltcG9ydCB0aGUgU3VwYWJhc2UgaGVscGVyLiBJbiBkZXYgZW52aXJvbm1lbnRzIHdoZXJlXG4gICAgLy8gU1VQQUJBU0VfKiBpcyBub3QgY29uZmlndXJlZCB3ZSBwcmVmZXIgdG8gY29udGludWUgKHNvIG9uYm9hcmRpbmcgY2FuXG4gICAgLy8gYmUgdGVzdGVkIHdpdGhvdXQgYSBEQikuIElmIHRoZSBpbXBvcnQgb3IgdGhlIGhlbHBlciB0aHJvd3MgYmVjYXVzZSBvZlxuICAgIC8vIG1pc3NpbmcgZW52LCB3ZSdsbCBza2lwIHRoZSBEQiB1cHNlcnQgYW5kIHJldHVybiB0aGUgd2FsbGV0IHRvIHRoZSBjbGllbnQuXG4gICAgbGV0IHVwc2VydEZuID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbW9kID0gYXdhaXQgaW1wb3J0KCcuLi8uLi8uLi91dGlscy9zdXBhYmFzZS5qcycpO1xuICAgICAgdXBzZXJ0Rm4gPSBtb2QudXBzZXJ0VXNlcldhbGxldDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2Fybignc3VwYWJhc2UgaGVscGVyIHVuYXZhaWxhYmxlLCBza2lwcGluZyBEQiB1cHNlcnQgZHVyaW5nIG9uYm9hcmRpbmc6JywgZXJyICYmIGVyci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgVGVsZWdyYW0gSUQgZnJvbSBzZXNzaW9uIG9yIHJlcXVlc3QgKHJlcGxhY2Ugd2l0aCB5b3VyIGxvZ2ljKVxuICAgIC8vIEF2b2lkIHVzaW5nIGEgc3RyaW5nIHBsYWNlaG9sZGVyIGxpa2UgJ2RlbW8tdXNlcicgd2hpY2ggd2lsbCBmYWlsIGlmXG4gICAgLy8gdGhlIERCIGNvbHVtbiBpcyBhIGJpZ2ludC4gT25seSBwYXNzIHRlbGVncmFtX2lkIHdoZW4gaXQncyBhIHZhbGlkIGludGVnZXIuXG4gICAgbGV0IHRlbGVncmFtSWRSYXcgPSByZXEuY29va2llcz8udGVsZWdyYW1JZCB8fCByZXEuYm9keT8udGVsZWdyYW1JZCB8fCBudWxsO1xuICAgIGxldCB0ZWxlZ3JhbUlkID0gbnVsbDtcbiAgICBpZiAodGVsZWdyYW1JZFJhdyAhPT0gbnVsbCAmJiB0ZWxlZ3JhbUlkUmF3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IE51bWJlcih0ZWxlZ3JhbUlkUmF3KTtcbiAgICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlZCkgJiYgTnVtYmVyLmlzSW50ZWdlcihwYXJzZWQpKSB7XG4gICAgICAgIHRlbGVncmFtSWQgPSBwYXJzZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgd2FsbGV0IGFuZCBoYXNoZWQgcGFzc3dvcmQgaW4gU3VwYWJhc2UgKHRlbGVncmFtSWQgbWF5IGJlIG51bGwpXG4gICAgaWYgKHVwc2VydEZuKSB7XG4gICAgICBhd2FpdCB1cHNlcnRGbih0ZWxlZ3JhbUlkLCB3YWxsZXQsIGhhc2hlZFBhc3N3b3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8tb3AgaW4gZGV2IHdoZW4gU3VwYWJhc2UgaXNuJ3QgY29uZmlndXJlZC4gQ2FsbGVyIHdpbGwgc3RpbGwgZ2V0XG4gICAgICAvLyB0aGUgd2FsbGV0IGRldGFpbHMgc28gb25ib2FyZGluZyBmbG93IGNhbiBiZSBleGVyY2lzZWQuXG4gICAgICBjb25zb2xlLmluZm8oJ1NraXBwaW5nIFN1cGFiYXNlIHVwc2VydDogdXBzZXJ0VXNlcldhbGxldCBub3QgYXZhaWxhYmxlJyk7XG4gICAgfVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBwdWJsaWNLZXk6IHdhbGxldC5wdWJsaWNLZXkgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBQcm92aWRlIGZyaWVuZGxpZXIgZXJyb3JzIGZvciBjb21tb24gbWlzY29uZmlndXJhdGlvbnNcbiAgICBpZiAoZS5tZXNzYWdlICYmIGUubWVzc2FnZS5pbmNsdWRlcygnUlBDX1VSTCcpKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ1NlcnZlciBSUENfVVJMIGlzIG1pc3Npbmcgb3IgaW52YWxpZC4gU2V0IFJQQ19VUkwgKG9yIE5FWFRfUFVCTElDX1JQQ19VUkwpIHRvIGEgdmFsaWQgaHR0cChzKSBTb2xhbmEgUlBDIGVuZHBvaW50LicgfSk7XG4gICAgfVxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBhY2NvdW50LicgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ1cHNlcnRVc2VyV2FsbGV0IiwiYmNyeXB0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInBhc3N3b3JkIiwiYm9keSIsImxlbmd0aCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImNyZWF0ZVdhbGxldCIsIndhbGxldCIsInVwc2VydEZuIiwibW9kIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlIiwidGVsZWdyYW1JZFJhdyIsImNvb2tpZXMiLCJ0ZWxlZ3JhbUlkIiwidW5kZWZpbmVkIiwicGFyc2VkIiwiTnVtYmVyIiwiaXNOYU4iLCJpc0ludGVnZXIiLCJpbmZvIiwicHVibGljS2V5IiwiZSIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/onboarding.js\n");

/***/ }),

/***/ "(api)/../utils/supabase.js":
/*!****************************!*\
  !*** ../utils/supabase.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserWallet: () => (/* binding */ getUserWallet),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   upsertUserWallet: () => (/* binding */ upsertUserWallet)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(api)/../node_modules/@supabase/supabase-js/dist/main/index.js\");\n\n\n// Use the project's Supabase URL constant; keep the key in env for security\nconst SUPABASE_URL = 'https://wjyqpjssxoxwmlyldgpf.supabase.co';\n\nlet _supabase = null;\nfunction getSupabaseClient() {\n  if (_supabase) return _supabase;\n  const url = SUPABASE_URL;\n  const key = process.env.SUPABASE_KEY;\n  // Treat obvious dummy keys as missing during local development so tests and\n  // onboarding don't accidentally hit the real Supabase API when a short\n  // placeholder value is set (for example: \"testing_dummy_key\"). Supabase\n  // keys are JWT-like and are typically long; we consider keys shorter than\n  // 30 chars to be invalid for local dev purposes.\n  const looksLikeDummyKey = key && key.length < 30;\n  if (!url || !key || ( true && looksLikeDummyKey)) {\n    // Development fallback: return a harmless no-op client so local dev and\n    // smoke tests can run without connecting to a real Supabase project.\n    // All methods return resolved promises with null data and no error.\n    if (!key) {\n      console.warn('SUPABASE_KEY missing — returning noop Supabase client for local development.');\n    } else {\n      console.warn('SUPABASE_KEY looks like a short/dummy value — returning noop Supabase client for local development.');\n    }\n    const noop = {\n      from: () => ({\n        upsert: () => ({\n          select: async () => ({ data: null, error: null }),\n        }),\n        select: async () => ({ data: null, error: null }),\n        eq: function () { return this; },\n        single: async () => ({ data: null, error: null }),\n      }),\n      rpc: async () => ({ data: null, error: null }),\n      auth: {},\n      _getClient: () => null,\n    };\n    _supabase = noop;\n    return _supabase;\n  }\n  _supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(url, key);\n  return _supabase;\n}\n\n// Export a lazy supabase instance compatible with imports like: import { supabase } from '../utils/supabase.js'\nconst supabase = {\n  from: (...args) => getSupabaseClient().from(...args),\n  rpc: (...args) => getSupabaseClient().rpc(...args),\n  auth: getSupabaseClient().auth,\n  // Provide a method to access the raw client if needed\n  _getClient: () => getSupabaseClient(),\n};\n\n/**\n * Save or update a user's wallet info\n */\nconst upsertUserWallet = async (telegramId, wallet, hashedPassword) => {\n  const supabase = getSupabaseClient();\n  const payload = {\n    wallet_pubkey: wallet.publicKey,\n    password_hash: hashedPassword,\n    created_at: new Date().toISOString(),\n  };\n  if (telegramId !== null && telegramId !== undefined) payload.telegram_id = telegramId;\n\n  const { data, error } = await supabase.from('profiles').upsert(payload).select();\n  if (error) throw new Error(error.message);\n  return data;\n};\n\n/**\n ** Get a user's wallet by Telegram ID\n */\nconst getUserWallet = async (telegramId) => {\n  const supabase = getSupabaseClient();\n  const { data, error } = await supabase\n    .from('profiles')\n    .select('wallet_pubkey')\n    .eq('telegram_id', telegramId)\n    .single();\n  if (error) throw new Error(error.message);\n  return data?.wallet_pubkey;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi4vdXRpbHMvc3VwYWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRDs7QUFFckQsNENBQTRDO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBLHVCQUF1QixLQUFxQztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMseUJBQXlCO0FBQzFELFNBQVM7QUFDVCwrQkFBK0IseUJBQXlCO0FBQ3hELDBCQUEwQixjQUFjO0FBQ3hDLCtCQUErQix5QkFBeUI7QUFDeEQsT0FBTztBQUNQLDBCQUEwQix5QkFBeUI7QUFDbkQsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG1FQUFZO0FBQzFCO0FBQ0E7O0FBRUEsMEVBQTBFLFdBQVc7QUFDOUU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLGNBQWM7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxVQUFVLGNBQWM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3Bld2FsbGV0LWZyb250ZW5kLy4uL3V0aWxzL3N1cGFiYXNlLmpzP2ZiMjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuXG4vLyBVc2UgdGhlIHByb2plY3QncyBTdXBhYmFzZSBVUkwgY29uc3RhbnQ7IGtlZXAgdGhlIGtleSBpbiBlbnYgZm9yIHNlY3VyaXR5XG5jb25zdCBTVVBBQkFTRV9VUkwgPSAnaHR0cHM6Ly93anlxcGpzc3hveHdtbHlsZGdwZi5zdXBhYmFzZS5jbyc7XG5cbmxldCBfc3VwYWJhc2UgPSBudWxsO1xuZnVuY3Rpb24gZ2V0U3VwYWJhc2VDbGllbnQoKSB7XG4gIGlmIChfc3VwYWJhc2UpIHJldHVybiBfc3VwYWJhc2U7XG4gIGNvbnN0IHVybCA9IFNVUEFCQVNFX1VSTDtcbiAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfS0VZO1xuICAvLyBUcmVhdCBvYnZpb3VzIGR1bW15IGtleXMgYXMgbWlzc2luZyBkdXJpbmcgbG9jYWwgZGV2ZWxvcG1lbnQgc28gdGVzdHMgYW5kXG4gIC8vIG9uYm9hcmRpbmcgZG9uJ3QgYWNjaWRlbnRhbGx5IGhpdCB0aGUgcmVhbCBTdXBhYmFzZSBBUEkgd2hlbiBhIHNob3J0XG4gIC8vIHBsYWNlaG9sZGVyIHZhbHVlIGlzIHNldCAoZm9yIGV4YW1wbGU6IFwidGVzdGluZ19kdW1teV9rZXlcIikuIFN1cGFiYXNlXG4gIC8vIGtleXMgYXJlIEpXVC1saWtlIGFuZCBhcmUgdHlwaWNhbGx5IGxvbmc7IHdlIGNvbnNpZGVyIGtleXMgc2hvcnRlciB0aGFuXG4gIC8vIDMwIGNoYXJzIHRvIGJlIGludmFsaWQgZm9yIGxvY2FsIGRldiBwdXJwb3Nlcy5cbiAgY29uc3QgbG9va3NMaWtlRHVtbXlLZXkgPSBrZXkgJiYga2V5Lmxlbmd0aCA8IDMwO1xuICBpZiAoIXVybCB8fCAha2V5IHx8IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGxvb2tzTGlrZUR1bW15S2V5KSkge1xuICAgIC8vIERldmVsb3BtZW50IGZhbGxiYWNrOiByZXR1cm4gYSBoYXJtbGVzcyBuby1vcCBjbGllbnQgc28gbG9jYWwgZGV2IGFuZFxuICAgIC8vIHNtb2tlIHRlc3RzIGNhbiBydW4gd2l0aG91dCBjb25uZWN0aW5nIHRvIGEgcmVhbCBTdXBhYmFzZSBwcm9qZWN0LlxuICAgIC8vIEFsbCBtZXRob2RzIHJldHVybiByZXNvbHZlZCBwcm9taXNlcyB3aXRoIG51bGwgZGF0YSBhbmQgbm8gZXJyb3IuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIGNvbnNvbGUud2FybignU1VQQUJBU0VfS0VZIG1pc3Npbmcg4oCUIHJldHVybmluZyBub29wIFN1cGFiYXNlIGNsaWVudCBmb3IgbG9jYWwgZGV2ZWxvcG1lbnQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignU1VQQUJBU0VfS0VZIGxvb2tzIGxpa2UgYSBzaG9ydC9kdW1teSB2YWx1ZSDigJQgcmV0dXJuaW5nIG5vb3AgU3VwYWJhc2UgY2xpZW50IGZvciBsb2NhbCBkZXZlbG9wbWVudC4nKTtcbiAgICB9XG4gICAgY29uc3Qgbm9vcCA9IHtcbiAgICAgIGZyb206ICgpID0+ICh7XG4gICAgICAgIHVwc2VydDogKCkgPT4gKHtcbiAgICAgICAgICBzZWxlY3Q6IGFzeW5jICgpID0+ICh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pLFxuICAgICAgICB9KSxcbiAgICAgICAgc2VsZWN0OiBhc3luYyAoKSA9PiAoeyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9KSxcbiAgICAgICAgZXE6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sXG4gICAgICAgIHNpbmdsZTogYXN5bmMgKCkgPT4gKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSksXG4gICAgICB9KSxcbiAgICAgIHJwYzogYXN5bmMgKCkgPT4gKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSksXG4gICAgICBhdXRoOiB7fSxcbiAgICAgIF9nZXRDbGllbnQ6ICgpID0+IG51bGwsXG4gICAgfTtcbiAgICBfc3VwYWJhc2UgPSBub29wO1xuICAgIHJldHVybiBfc3VwYWJhc2U7XG4gIH1cbiAgX3N1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHVybCwga2V5KTtcbiAgcmV0dXJuIF9zdXBhYmFzZTtcbn1cblxuLy8gRXhwb3J0IGEgbGF6eSBzdXBhYmFzZSBpbnN0YW5jZSBjb21wYXRpYmxlIHdpdGggaW1wb3J0cyBsaWtlOiBpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL3V0aWxzL3N1cGFiYXNlLmpzJ1xuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0ge1xuICBmcm9tOiAoLi4uYXJncykgPT4gZ2V0U3VwYWJhc2VDbGllbnQoKS5mcm9tKC4uLmFyZ3MpLFxuICBycGM6ICguLi5hcmdzKSA9PiBnZXRTdXBhYmFzZUNsaWVudCgpLnJwYyguLi5hcmdzKSxcbiAgYXV0aDogZ2V0U3VwYWJhc2VDbGllbnQoKS5hdXRoLFxuICAvLyBQcm92aWRlIGEgbWV0aG9kIHRvIGFjY2VzcyB0aGUgcmF3IGNsaWVudCBpZiBuZWVkZWRcbiAgX2dldENsaWVudDogKCkgPT4gZ2V0U3VwYWJhc2VDbGllbnQoKSxcbn07XG5cbi8qKlxuICogU2F2ZSBvciB1cGRhdGUgYSB1c2VyJ3Mgd2FsbGV0IGluZm9cbiAqL1xuZXhwb3J0IGNvbnN0IHVwc2VydFVzZXJXYWxsZXQgPSBhc3luYyAodGVsZWdyYW1JZCwgd2FsbGV0LCBoYXNoZWRQYXNzd29yZCkgPT4ge1xuICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgd2FsbGV0X3B1YmtleTogd2FsbGV0LnB1YmxpY0tleSxcbiAgICBwYXNzd29yZF9oYXNoOiBoYXNoZWRQYXNzd29yZCxcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gIH07XG4gIGlmICh0ZWxlZ3JhbUlkICE9PSBudWxsICYmIHRlbGVncmFtSWQgIT09IHVuZGVmaW5lZCkgcGF5bG9hZC50ZWxlZ3JhbV9pZCA9IHRlbGVncmFtSWQ7XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgncHJvZmlsZXMnKS51cHNlcnQocGF5bG9hZCkuc2VsZWN0KCk7XG4gIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICByZXR1cm4gZGF0YTtcbn07XG5cbi8qKlxuICoqIEdldCBhIHVzZXIncyB3YWxsZXQgYnkgVGVsZWdyYW0gSURcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFVzZXJXYWxsZXQgPSBhc3luYyAodGVsZWdyYW1JZCkgPT4ge1xuICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAuc2VsZWN0KCd3YWxsZXRfcHVia2V5JylcbiAgICAuZXEoJ3RlbGVncmFtX2lkJywgdGVsZWdyYW1JZClcbiAgICAuc2luZ2xlKCk7XG4gIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICByZXR1cm4gZGF0YT8ud2FsbGV0X3B1YmtleTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/../utils/supabase.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/whatwg-url","vendor-chunks/tr46","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fonboarding&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fonboarding.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();